# CLAUDE.md

這個檔案為 Claude Code (claude.ai/code) 在這個儲存庫中工作時提供指南。

# 開發者專用區（詳細說明）

- **語言**：所有交談都使用繁體中文（台灣）回應

- **溝通風格**：清晰、直接、具體，避免模糊表達

- **回應格式**：使用 Markdown 格式，善用標題、列表、程式碼區塊

- **專注原則**：專注於程式碼實作，減少不必要的說明文字

  

# 開發偏好與工作流程

  

## 開發方法論

- **TDD 開發模式**：嚴格遵循 Red-Green-Refactor 循環

- Red：先寫失敗的測試

- Green：寫最少的程式碼讓測試通過

- Refactor：重構程式碼，保持測試通過

- **漸進式開發**：偏好小步驟、小改動的開發方式

- **持續整合**：每個小改動都要確保系統穩定

  

## 需求釐清

- **主動確認**：如果需求不清楚或有歧義，必須先提出問題確認

- **理解優先**：優先確保理解正確，避免做錯方向的開發

- **邊界定義**：明確什麼要做、什麼不做

  

## 任務分解策略

- **自動拆解**：收到需求後，主動協助拆解為可執行的小任務（tasks）

- **任務規範**：每個 task 應該要：

- 儘可能小且獨立（單一職責）

- 有明確的編號（Task 1, Task 2, Task 3...）

- 有清楚的目標和驗收條件

- 可以在短時間內完成（建議 15-30 分鐘）

- 包含具體的實作步驟

- **執行順序**：由使用者決定要先執行哪個 task

- **專注原則**：一次專注於一個 task，完成並驗證後再進行下一個

- **依賴管理**：如果 tasks 之間有依賴關係，要明確標示

# 架構分析與理解

## 程式碼架構分析
- **自動架構掃描**：收到分析需求時，主動掃描並理解專案結構
- **分層架構識別**：識別並說明各層級的職責（如 MVC、Clean Architecture 等）
- **依賴關係分析**：分析模組間的依賴關係和資料流向
- **設計模式識別**：識別使用的設計模式並說明其目的
- **架構優化建議**：提供架構優化的建議，但不強制實施
- **架構圖生成**：如果需要，可以生成簡單的架構圖或流程圖輔助理解
- **程式碼片段說明**：對重要程式碼片段進行詳細說明，幫助理解其功能和作用
- **模組化分析**：分析各模組的功能和責任，確保清晰的分工
- **測試覆蓋率分析**：分析現有測試覆蓋率，提供改進建議
- **性能分析**：如果需要，提供性能瓶頸分析和優化建議
- **安全性分析**：識別潛在的安全性問題並提供建議
- **文件生成**：生成必要的架構文檔，幫助團隊成員理解系統
- **版本控制分析**：分析版本控制歷史，理解專案演進過程

### 🎯 核心協作原則



**每個軟體開發任務必須按照以下方協作模式執行：**

1. **Sequential Thinking** 🧠 - 邏輯分析與技術決策
2. **Serena** 📋 - 專案管理與執行規劃  
3. **Context7** 🔄 - 脈絡管理與知識累積
4. **MagicUI** 🎨 - 使用者介面設計與互動體驗

### 🔧 標準協作流程

#### 階段 1: 需求分析 (必須執行)
```
🧠 Sequential Thinking 負責：
- 需求邏輯分析和依賴關係梳理
- 技術方案可行性評估
- 架構設計和模組化規劃
- 技術風險識別和應對策略

📋 Serena 負責：
- 需求轉化為具體開發任務
- 開發時程和里程碑制定
- 資源分配和優先級設定
- 品質門檻和驗收標準

🔄 Context7 負責：
- 記錄需求變更和決策過程
- 建立專案知識庫和參考資料
- 維護專案脈絡和歷史記錄
- 建立團隊共識和溝通記錄

🎨 MagicUI 負責：
- 使用者介面需求收集和分析
- 互動設計和使用者體驗規劃
- 原型設計和使用者測試
- 設計資源和樣式指南建立

```

#### 階段 2: 開發執行 (必須執行)
```
🧠 Sequential Thinking 負責：
- 技術問題根本原因分析
- 解決方案邏輯推理和評估
- 代碼架構和設計模式指導
- 性能和安全性影響評估

📋 Serena 負責：
- 開發任務進度追蹤和調整
- 資源重新分配和優先級調整
- 問題解決計劃制定和執行
- 里程碑檢查和品質控制

🔄 Context7 負責：
- 開發過程記錄和決策追蹤
- 問題解決方案的知識累積
- 團隊協作狀態監控
- 最佳實踐和經驗教訓整理

🎨 MagicUI 負責：
- 使用者介面實作指導和支援
- 互動設計實現和測試
- 設計資源整合和版本控制
- 使用者反饋和改進建議收集

```

#### 階段 3: 測試與部署 (必須執行)
```
🧠 Sequential Thinking 負責：
- 測試策略邏輯設計
- 部署風險評估和應對
- 系統整合邏輯驗證
- 性能基準和監控指標設定

📋 Serena 負責：
- 測試計劃制定和執行管理
- 部署流程規劃和時程安排
- 資源協調和團隊分工
- 發布後監控和支援計劃

🔄 Context7 負責：
- 測試結果和部署記錄維護
- 系統性能基線建立
- 用戶反饋和問題追蹤
- 發布經驗和改進建議記錄

🎨 MagicUI 負責：
- 使用者介面測試和驗證
- 互動設計效果評估
- 使用者體驗優化建議
- 設計資源更新和版本發布

```